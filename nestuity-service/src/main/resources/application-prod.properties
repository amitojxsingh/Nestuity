# Production Configuration for Nestuity Service
spring.application.name=nestuity-service

# Database Configuration
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Email Configuration
spring.sendgrid.api-key=${SENDGRID_API_KEY}
spring.sendgrid.from_email=${SENDGRID_EMAIL_FROM}
spring.sendgrid.template.welcome_id=${TEMPLATE_WELCOME_ID}
spring.sendgrid.template.diaper_reminder_id=${TEMPLATE_DIAPER_REMINDER_ID}

spring.mailjet.api-key=${MAILJET_API_KEY}
spring.mailjet.api-secret=${MAILJET_API_SECRET}
spring.mailjet.from_email=${MAILJET_EMAIL_FROM}
spring.mailjet.template.welcome_id=${TEMPLATE_WELCOME_ID}
spring.mailjet.template.diaper_reminder_id=${TEMPLATE_DIAPER_REMINDER_ID}
spring.mailjet.template.weekly_summary_id=${TEMPLATE_WEEKLY_SUMMARY_ID}

# JPA/Hibernate - Production settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.show-sql=false

# Connection Pool - Optimized for production
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1800000

# Disable DevTools in production
spring.devtools.restart.enabled=false

# Note: Profile is activated via SPRING_PROFILES_ACTIVE=prod environment variable
# DO NOT set spring.profiles.active here (invalid in profile-specific files)

# Security - Keep disabled for MVP (enable later for production-grade)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# Price Scraper Configuration
scraper.enabled=true
scraper.python.path=/usr/bin/python3
scraper.script.path=/app/price-scraper/main.py
scraper.schedule.cron=0 0 0 1,15 * ?

# CORS Configuration
cors.allowed.origins=${CORS_ALLOWED_ORIGINS}

# Logging
logging.level.root=INFO
logging.level.com.nestuity=INFO
logging.level.org.hibernate.SQL=ERROR
logging.level.org.springframework.web=INFO
